<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>{% block title %}Sistema de Mantenimiento{% endblock %}</title>
    {% load static %}
    <link href="{% static 'css/tailwind.css' %}" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 flex flex-col min-h-screen">

    <!-- Header arriba -->
    {% include "includes/header.html" %}

    <!-- Contenedor central: sidebar + main -->
    <div class="flex flex-1">
        {% if request.user.is_authenticated %}
            <!-- Sidebar ocupa toda la altura disponible entre header y footer -->
                {% if request.user.rol == 'admin' %}
                    {% include "includes/sidebar_admin.html" %}
                {% elif request.user.rol == 'usuario' %}
                    {% include "includes/sidebar_usuario.html" %}
                {% elif request.user.rol == 'tecnico' %}
                    {% include "includes/sidebar_tecnico.html" %}
                {% endif %}
            </aside>
        {% endif %}

        <!-- Main content -->
        <main id="dashboard-content" class=" p-2">
            {% block content %}{% endblock %}
        </main>
    </div>

    <!-- Footer abajo -->
    {% include "includes/footer.html" %}

    <script src="{% static 'usuarios/js/menu_navbar.js' %}"></script>
    <script src="{% static 'usuarios/js/sidebar_admin.js' %}"></script>
</body>

</html>
